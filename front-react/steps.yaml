# File Stamp フロントエンド

参考:
    - https://github.com/Takakiriy/Trials/tree/master/try_ReactUserApp_Docker
    - https://github.com/Takakiriy/Trials/tree/master/try_React_REST_API
    - https://github.com/Takakiriy/Trials/tree/master/try_Azure_AKS_quick_start

app-react アプリケーションをローカルで編集するには:
    - run_install.bat をダブルクリックすると、環境が構築され、ローカル（Dockerのホスト）で Web サーバーが起動します
    - run_start.bat をダブルクリックすると、ローカル（Dockerのホスト）で Web サーバーが起動します

リポジトリに入れないファイルを削除するには:
    - run_clean.bat をダブルクリックします

React のサンプル アプリケーションの Docker イメージをビルドして、ローカル Web サーバーのコンテナーを起動します:
    - Docker が起動するまで待ちます
    - docker-compose up --build

ローカル Web サーバーを終了して、ローカルのコンテナーを削除します:
    - docker-compose down

Azure ACR に Docker イメージを登録する:
    設定:
        __ResourceGroupName__: sage-p-acr-1
        __RepositoryName__: sagep
        __ImageName__: file-stamp-front
        __Tag__: 0.0.1
        __RepositoryHost__: sagep.azurecr.io

    Azure にログインする:
        - az login [--tenant __TenantID__]

    リポジトリのホスト名＝リソース グループの「ログイン サーバー アドレス」を表示します。 __RepositoryHost__ = .:
        - az acr list --resource-group "sage-p-acr-1" --query "[].{acrLoginServer:loginServer}" \
            --output table

    Docker イメージにタグを付けます:
        - docker tag  "file-stamp-front"  "sagep.azurecr.io/file-stamp-front:0.0.1"

    ACR インスタンスにログインします:
        - az acr login  --name "sagep"

    Docker イメージをレジストリ（ACR インスタンス）にプッシュ（登録）します。 簡単なサンプルでも 5分かかります。:
        - docker push  "sagep.azurecr.io/file-stamp-front:0.0.1"

    登録されたことを確認します:
        - az acr repository show-tags  --name "sagep"  --repository "file-stamp-front"
        #// az acr repository list  --name "sagep"

クラスター:
    設定:
        __ResourceGroupName__: sage-p-file-stamp
        __ClusterName__: FileStamp  #// Kubernetes サービス名
        __Region__: japaneast
        __RepositoryName__: sagep
        __NodeCount__: 1

デプロイする:
    - kubectl apply -f  "docker-k8s.yaml"
